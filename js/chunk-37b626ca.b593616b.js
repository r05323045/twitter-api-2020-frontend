(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37b626ca"],{c975:function(e,t,r){"use strict";var n=r("23e7"),o=r("4d64").indexOf,s=r("a640"),a=r("ae40"),i=[].indexOf,c=!!i&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?i.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},cb41:function(e,t,r){"use strict";r("d373")},d373:function(e,t,r){},f792:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row page-container"},[r("Navbar",{staticClass:"col-3"}),r("SelfUserFollowers",{directives:[{name:"show",rawName:"v-show",value:"/user/self/follower"===e.$route.path,expression:"$route.path === '/user/self/follower'"}],attrs:{initialFollowers:e.followers,nowUser:e.user}}),r("SelfUserFollowers",{directives:[{name:"show",rawName:"v-show",value:"/user/self/following"===e.$route.path,expression:"$route.path === '/user/self/following'"}],attrs:{initialFollowers:e.followings,nowUser:e.user}}),r("RecommendUsers",{staticClass:"col-4"})],1)},o=[],s=(r("a4d3"),r("e01a"),r("c975"),r("d81d"),r("b0c0"),r("96cf"),r("1da1")),a=r("5530"),i=r("cc77"),c=r("d178"),l=r("88fd"),u=r("4cce"),f=r("2fa3"),d=r("2f62"),w={name:"SelfFollowers",components:{Navbar:c["a"],SelfUserFollowers:i["a"],RecommendUsers:l["a"]},data:function(){return{followers:[],followings:[],user:{}}},computed:Object(a["a"])({},Object(d["b"])(["currentUser","isAuthenticated"])),created:function(){var e=this;this.$bus.$on("followAction",(function(t){e.$route.path.indexOf("/self")>0&&e.followAction(t)})),this.fetchFollowers(this.currentUser.id),this.fetchProfile()},watch:{"$route.path":function(){this.fetchFollowers(this.currentUser.id)}},methods:{fetchProfile:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading.show({isFullPage:!0,opacity:1},{default:e.$createElement("MyLoading")}),n=e.currentUser.id,t.prev=2,t.next=5,u["a"].getProfile({userId:n});case 5:o=t.sent,s=o.data,e.user=s,e.user.tweets=e.user.tweets.map((function(e){return{id:e.id,userId:e.User.id,name:e.User.name,avatar:e.User.avatar,account:e.User.account,createdAt:e.createdAt,description:e.description,likeTweetCount:e.likeTweetCount,replyTweetCount:e.replyTweetCount,isLiked:e.isLiked}})),r.hide(),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](2),r.hide(),console.log(t.t0),f["a"].fire({icon:"error",title:"目前無法取得資料，請稍候"});case 17:case"end":return t.stop()}}),t,null,[[2,12]])})))()},fetchFollowers:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].getFollowers({userId:e});case 3:return n=r.sent,t.followers=n.data.sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),r.next=7,u["a"].getFollowings({userId:e});case 7:o=r.sent,t.followings=o.data.sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),console.log(r.t0),f["a"].fire({icon:"error",title:"無法取得資料，請稍後再試"});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},followAction:function(){this.fetchFollowers(this.currentUser.id),this.fetchProfile()}}},h=w,p=(r("cb41"),r("2877")),v=Object(p["a"])(h,n,o,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-37b626ca.b593616b.js.map