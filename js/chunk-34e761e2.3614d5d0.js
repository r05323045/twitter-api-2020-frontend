(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34e761e2"],{4356:function(e,t,r){},4965:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row other-page-container"},[r("Navbar",{staticClass:"col-3"}),r("SelfUserFollowers",{directives:[{name:"show",rawName:"v-show",value:e.$route.path.indexOf("follower")>0,expression:"$route.path.indexOf('follower') > 0"}],attrs:{initialFollowers:e.followers,nowUser:e.user}}),r("SelfUserFollowers",{directives:[{name:"show",rawName:"v-show",value:e.$route.path.indexOf("following")>0,expression:"$route.path.indexOf('following') > 0"}],attrs:{initialFollowers:e.followings,nowUser:e.user}}),r("RecommendUsers",{staticClass:"col-4"})],1)},n=[],a=(r("a4d3"),r("e01a"),r("4de4"),r("d81d"),r("b0c0"),r("96cf"),r("1da1")),s=r("5530"),i=r("cc77"),c=r("d178"),l=r("88fd"),u=r("4cce"),f=r("2fa3"),d=r("2f62"),w={components:{Navbar:c["a"],SelfUserFollowers:i["a"],RecommendUsers:l["a"]},data:function(){return{followers:[],followings:[],user:{}}},computed:Object(s["a"])({},Object(d["b"])(["currentUser","isAuthenticated"])),created:function(){var e=this;this.$bus.$on("followAction",(function(t){e.$route.params&&e.followAction(t)})),this.fetchFollowers(this.$route.params.id),this.fetchProfile()},watch:{"$route.path":function(){this.fetchFollowers(this.$route.params.id)}},methods:{fetchProfile:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading.show({isFullPage:!0,opacity:1},{default:e.$createElement("MyLoading")}),o=e.$route.params.id,t.prev=2,t.next=5,u["a"].getProfile({userId:o});case 5:n=t.sent,a=n.data,e.user=a,e.user.tweets=e.user.tweets.map((function(e){return{id:e.id,userId:e.User.id,name:e.User.name,avatar:e.User.avatar,account:e.User.account,createdAt:e.createdAt,description:e.description,likeTweetCount:e.likeTweetCount,replyTweetCount:e.replyTweetCount,isLiked:e.isLiked}})),r.hide(),t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](2),r.hide(),console.log(t.t0),f["a"].fire({icon:"error",title:"目前無法取得資料，請稍候"});case 17:case"end":return t.stop()}}),t,null,[[2,12]])})))()},fetchTopUsers:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading.show({isFullPage:!0,opacity:1},{default:e.$createElement("MyLoading")}),t.prev=1,t.next=4,u["a"].getTopUsers();case 4:o=t.sent,n=o.data,e.topUsers=n.users.map((function(e){return{id:e.id,name:e.name,avatar:e.avatar,account:e.account,followerCount:e.FollowerCount,isFollowed:e.isFollowed}})).filter((function(t){return t.id!==e.currentUser.id})),r.hide(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0),f["a"].fire({icon:"error",title:"目前無法為你推薦追蹤，請稍候"});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},fetchFollowers:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].getFollowers({userId:e});case 3:return o=r.sent,t.followers=o.data.sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),r.next=7,u["a"].getFollowings({userId:e});case 7:n=r.sent,t.followings=n.data.sort((function(e,t){return e.createdAt<t.createdAt?1:-1})),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),f["a"].fire({icon:"error",title:"無法取得資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},followAction:function(){this.fetchFollowers(this.$route.params.id),this.fetchProfile()}}},h=w,p=(r("fa2a"),r("2877")),m=Object(p["a"])(h,o,n,!1,null,null,null);t["default"]=m.exports},fa2a:function(e,t,r){"use strict";r("4356")}}]);
//# sourceMappingURL=chunk-34e761e2.3614d5d0.js.map