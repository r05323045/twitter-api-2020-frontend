{"version":3,"sources":["webpack:///./src/views/Setting.vue?4236","webpack:///./src/components/SubSetting.vue?8b1d","webpack:///src/components/SubSetting.vue","webpack:///./src/components/SubSetting.vue?3ec8","webpack:///./src/components/SubSetting.vue?183e","webpack:///src/views/Setting.vue","webpack:///./src/views/Setting.vue?8b3f","webpack:///./src/views/Setting.vue?3979","webpack:///./src/components/SubSetting.vue?56db","webpack:///./src/views/Setting.vue?f2a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_m","ref","attrs","_v","directives","name","rawName","value","user","expression","domProps","on","$event","target","composing","$set","confirmedPassword","preventDefault","handleSubmit","data","props","initialUser","type","Object","created","fetchUserSetting","currentUser","id","computed","methods","component","components","Navbar","SubSetting"],"mappings":"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","file":"js/chunk-2e4a86fc.2cab8868.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-setting\"},[_c('Navbar'),_c('SubSetting')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"content\"},[_c('form',{ref:\"settingForm\"},[_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.account),expression:\"user.account\"}],staticClass:\"form-control\",attrs:{\"id\":\"account\",\"name\":\"account\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.user.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",attrs:{\"id\":\"email\",\"name\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-3\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-3\"},[_c('label',{attrs:{\"for\":\"password-check\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmedPassword),expression:\"confirmedPassword\"}],staticClass:\"form-control\",attrs:{\"id\":\"password-check\",\"name\":\"passwordCheck\",\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.confirmedPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmedPassword=$event.target.value}}})]),_c('div',{staticClass:\"link\"},[_c('div',{staticClass:\"save-button\",on:{\"click\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_vm._v(\"儲存\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('h3',[_vm._v(\"帳戶設定\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"header\">\n      <h3>帳戶設定</h3>\n    </div>\n\n    <div class=\"content\">\n      <form ref=\"settingForm\">\n        <div class=\"form-label-group mb-2\" >\n          <label for=\"account\">帳號</label>\n          <input\n            id=\"account\"\n            name=\"account\"\n            type=\"text\"\n            class=\"form-control\"\n            v-model=\"user.account\"\n            required\n          >\n        </div>\n\n        <div class=\"form-label-group mb-2\">\n          <label for=\"name\">名稱</label>\n          <input\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            class=\"form-control\"\n            v-model=\"user.name\"\n            required\n            \n          >\n      \n        </div>\n\n        <div class=\"form-label-group mb-2\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            v-model=\"user.email\"\n            required\n          >\n        </div>\n\n        <div class=\"form-label-group mb-3\">\n          <label for=\"password\">密碼</label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            class=\"form-control\"\n            placeholder=\"\"\n            v-model=\"user.password\"\n            required\n          >\n        </div>\n\n        <div class=\"form-label-group mb-3\">\n          <label for=\"password-check\">密碼確認</label>\n          <input\n            id=\"password-check\"\n            name=\"passwordCheck\"\n            type=\"password\"\n            class=\"form-control\"\n            v-model=\"confirmedPassword\"\n            required\n          >\n        </div> \n      \n        <div class=\"link\">\n          <div class=\"save-button\" @click.prevent=\"handleSubmit\">儲存</div> \n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Toast } from '@/utils/helpers'\nimport usersAPI from './../apis/users'\nimport { mapState } from 'vuex'\nexport default {\n  data () {\n    return {\n      user: {},\n      confirmedPassword: ''\n    }\n  },\n  props: {\n    initialUser: {\n      type: Object,\n    }\n  }, \n  created () {\n    this.fetchUserSetting(this.currentUser.id)\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  methods: {  \n    async fetchUserSetting (userId) {\n      const loader = this.$loading.show({\n        isFullPage: true,\n        opacity: 1\n      }, { default: this.$createElement('MyLoading') })\n\n      try {\n        const { data } = await usersAPI.getSettingPage({ userId })\n\n        this.user = { ...data[0], password: ''}\n        loader.hide()\n      } catch (error) {\n        loader.hide()\n        Toast.fire({\n            icon: 'error',\n            title: '無法取得使用者資料，請稍後再試'\n          })\n      }\n    },\n    async handleSubmit () {\n      const loader = this.$loading.show({\n        isFullPage: true,\n        opacity: 1\n      }, { default: this.$createElement('MyLoading') })\n      try {\n        if (this.user.account.length > 15) {\n          loader.hide()\n          Toast.fire({\n            icon: \"warning\",\n            title: \"帳號限定使用15個字\",\n          })\n          return\n        }\n        if (this.user.name.length > 50) {\n          loader.hide()\n          Toast.fire({\n            icon: \"warning\",\n            title: \"名字限定使用50個字\",\n          })\n          return\n        }\n        if (!this.user.account || !this.user.name || !this.user.email) {\n          loader.hide()\n          Toast.fire({\n            icon: \"warning\",\n            title: \"所有欄位為必填\",\n          })\n          return\n        }\n        if (this.user.password !== this.confirmedPassword) {\n          loader.hide()\n          Toast.fire({\n            icon: \"warning\",\n            title: \"密碼與確認密碼不符\",\n          })\n          return;\n        }\n        const formData = { name: this.user.name, account: this.user.account, email: this.user.email, confirmedPassword: this.confirmedPassword }\n        if (this.user.password === this.confirmedPassword) {\n          formData.password = this.user.password\n        }\n        const { data } = await usersAPI.putSetting({\n          userId: this.currentUserid,\n          formData\n        })\n\n        if (data.status !== 'success') {\n          loader.hide()\n          throw new Error(data.message)\n        } else {\n          loader.hide()\n          Toast.fire({\n            icon: 'success',\n            title: '更新成功'\n          })\n        }\n        this.$store.commit('setCurrentUser', this.user)\n      } catch (error) {\n        loader.hide()\n        Toast.fire({\n          icon: 'error',\n          title: error\n        })\n      }\n    }\n  } \n}\n</script>\n\n<style lang=\"scss\">\n$orange: #FF6600;\n$deeporange: #F34A16;\n$lightgray: #F5F8FA;\n$lightblue: #0099FF;\n$lightdark: #657786;\n$bitdark: #657786;\n.container {\n  border-left: solid 1px #E6ECF0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  margin: 0;\n \n  .header {\n    width: auto;\n    font-family: Noto Sans TC;\n    font-style: normal;\n    font-weight: 700;\n    font-size: 19px;\n    line-height: 28px;\n    height: 55px;\n    border-bottom: 1px solid #E6ECF0;\n    margin-bottom: 2px;\n    h3 {\n      margin-left: 23.69px;\n      line-height: 55px;\n      text-align: start;\n    }\n  }\n\n  .content {\n    margin-left: 16px;\n    form {\n      // outline: red solid;\n      width: auto;\n      height: auto;\n      .form-label-group {\n        width: 642px;\n        height: 50px;\n        margin: 0px;\n        padding: 0;\n        position: relative;\n        input {\n\n          border-radius: 0;\n          border: none;\n          border-bottom: 2px solid #919191;\n          background: #F5F8FA;\n          margin-top: 30px;\n          width: 642px;\n          height: 50px;\n        }\n        label {\n          position: absolute;\n          left: 10px;\n          top: 5px;\n          height: 15px;\n          font-weight: 500;\n          font-size: 15px;\n          line-height: 15px;\n          color: $bitdark;\n        }\n        .form-control {\n          padding: 20px 0 0 12px;\n        }\n      }\n\n      .link {\n        width: 122px;\n        height: 50px;\n        background: #FF6600;\n        border-radius: 50px;\n        padding: 0;\n        margin-left: 536px - 16px;\n        \n        .save-button {\n          line-height: 50px;\n          font-family: Noto Sans TC;\n          font-style: normal;\n          font-weight: bold;\n          font-size: 18px;\n          color: #ffffff;\n          cursor: pointer;\n        }\n      }\n    }\n  }    \n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubSetting.vue?vue&type=template&id=1ea729cd&\"\nimport script from \"./SubSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./SubSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubSetting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main-setting\"> \n    <Navbar />\n    <SubSetting/>\n  </div>\n  \n</template>\n\n<script>\nimport Navbar from \"./../components/Navbar\"\nimport SubSetting from './../components/SubSetting'\n\nexport default {\n  name: 'Setting',\n  components: {\n    Navbar,\n    SubSetting\n  },\n  methods: { \n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .main-setting {\n    width: 100%;\n    height: 100%;\n    display:flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    margin: 0;\n    padding: 0;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=2c38631c&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubSetting.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}