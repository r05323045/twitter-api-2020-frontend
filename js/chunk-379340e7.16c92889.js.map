{"version":3,"sources":["webpack:///./src/components/RecommendUsers.vue?1a4c","webpack:///./src/components/SelfUserFollowers.vue?8c58","webpack:///./src/apis/followships.js","webpack:///./src/components/RecommendUsers.vue?964b","webpack:///src/components/RecommendUsers.vue","webpack:///./src/components/RecommendUsers.vue?aacb","webpack:///./src/components/RecommendUsers.vue?c398","webpack:///./src/asset/Vector@2x.png","webpack:///./src/components/SelfUserFollowers.vue?30cf","webpack:///src/components/SelfUserFollowers.vue","webpack:///./src/components/SelfUserFollowers.vue?a28d","webpack:///./src/components/SelfUserFollowers.vue?26cb","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["getToken","localStorage","getItem","addFollowing","userId","apiHelper","post","id","headers","Authorization","deleteFollowing","delete","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","more","height","topUsers","length","_v","_l","user","idx","directives","name","rawName","value","expression","key","background","on","$event","$router","push","catch","_s","account","isFollowed","staticRenderFns","data","created","fetchTopUsers","$bus","$on","beforeDestroy","$off","computed","methods","followAction","map","action","type","component","module","exports","attrs","go","nowUser","tweets","_e","$route","path","indexOf","class","active","follower","avatar","introduction","currentUser","followers","props","initialFollowers","Array","Object","watch","nowUsers","deep","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-379340e7.16c92889.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendUsers.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelfUserFollowers.vue?vue&type=style&index=0&lang=scss&\"","import { apiHelper } from './../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  addFollowing ({ userId }) {\n    return apiHelper.post('/followships', { id: userId }, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  deleteFollowing ({ userId }) {\n    return apiHelper.delete(`/followships/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend-users\",style:([_vm.more ? { height: ((_vm.topUsers.length * 71 + 92) + \"px\") } : { height:  ((5 * 71 + 92) + \"px\")}])},[_c('div',{staticClass:\"title\"},[_vm._v(\"跟隨誰\")]),_c('div',{staticClass:\"list-group\"},_vm._l((_vm.topUsers),function(user,idx){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(!_vm.more && idx > 4)),expression:\"!(!more && idx > 4)\"}],key:user.id,staticClass:\"list-group-item\"},[_c('div',{staticClass:\"avatar\",style:({ background: (\"url(\" + (user.avatar) + \") no-repeat center/cover\") }),on:{\"click\":function($event){_vm.$router.push((\"/user/other/\" + (user.id))).catch(function (){})}}}),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\",on:{\"click\":function($event){_vm.$router.push((\"/user/other/\" + (user.id))).catch(function (){})}}},[_vm._v(_vm._s(user.name))]),_c('div',{staticClass:\"account\",on:{\"click\":function($event){_vm.$router.push((\"/user/other/\" + (user.id))).catch(function (){})}}},[_vm._v(_vm._s(user.account))])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(user.isFollowed),expression:\"user.isFollowed\"}],staticClass:\"btn btn-follow unfollow\",on:{\"click\":function($event){return _vm.deleteFollowing(user.id)}}},[_vm._v(\"正在跟隨\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!user.isFollowed),expression:\"!user.isFollowed\"}],staticClass:\"btn btn-follow\",on:{\"click\":function($event){return _vm.addFollowing(user.id)}}},[_vm._v(\"跟隨\")])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.more),expression:\"!more\"}],staticClass:\"footer\",on:{\"click\":function($event){_vm.more = !_vm.more}}},[_vm._v(\"顯示更多\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.more),expression:\"more\"}],staticClass:\"footer\",on:{\"click\":function($event){_vm.more = !_vm.more}}},[_vm._v(\"顯示更少\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"recommend-users\" :style=\"[more ? { height: `${topUsers.length * 71 + 92}px` } : { height:  `${5 * 71 + 92}px`}]\">\n    <div class=\"title\">跟隨誰</div>\n    <div class=\"list-group\">\n      <div v-show=\"!(!more && idx > 4)\" v-for=\"(user, idx) in topUsers\" :key=\"user.id\" class=\"list-group-item\">\n        <div class=\"avatar\" @click=\"$router.push(`/user/other/${user.id}`).catch(()=>{})\" :style=\"{ background: `url(${user.avatar}) no-repeat center/cover` }\"></div>\n        <div class=\"info\">\n          <div class=\"name\" @click=\"$router.push(`/user/other/${user.id}`).catch(()=>{})\">{{ user.name }}</div>\n          <div class=\"account\" @click=\"$router.push(`/user/other/${user.id}`).catch(()=>{})\">{{ user.account }}</div>\n        </div>\n        <button v-show=\"user.isFollowed\" class=\"btn btn-follow unfollow\" @click=\"deleteFollowing(user.id)\">正在跟隨</button>\n        <button v-show=\"!user.isFollowed\" class=\"btn btn-follow\" @click=\"addFollowing(user.id)\">跟隨</button>\n      </div>\n    </div>\n    <div v-show=\"!more\" class=\"footer\" @click=\"more = !more\">顯示更多</div>\n    <div v-show=\"more\" class=\"footer\" @click=\"more = !more\">顯示更少</div>\n  </div>\n</template>\n\n<script>\n\nimport followshipsAPI from '@/apis/followships'\nimport usersAPI from '@/apis/users'\nimport { Toast } from '@/utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'RecommendUsers',\n  data () {\n    return {\n      topUsers: [],\n      more: false\n    }\n  },\n  created () {\n    this.fetchTopUsers()\n    this.$bus.$on('followAction', action => {\n      this.followAction(action)\n    })\n  },\n  beforeDestroy () {\n    this.$bus.$off('followAction')\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  methods: {\n    async fetchTopUsers () {\n      const loader = this.$loading.show({\n        isFullPage: true,\n        opacity: 1\n      }, { default: this.$createElement('MyLoading') })\n      try {\n        const { data } = await usersAPI.getTopUsers()\n        this.topUsers = data.users.map(user => ({\n          id: user.id,\n          name: user.name,\n          avatar: user.avatar,\n          account: user.account,\n          followerCount: user.FollowerCount,\n          isFollowed: user.isFollowed\n        })).filter(user => user.id !== this.currentUser.id).slice(0, 8)\n        loader.hide()\n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '目前無法為你推薦追蹤，請稍候'\n        })\n      }\n    },\n    async addFollowing (userId) {\n      try {\n        const { data } = await followshipsAPI.addFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        this.$bus.$emit('followAction', { type: 'follow', userId: userId, followship: data.followship})\n\n        if (data.followship.followerId > 0 && data.followship.followingId !== this.currentUser.id) {\n          this.$socket.emit('personal notification', {\n            senderId: this.currentUser.id,\n            titleData: `${this.currentUser.name} 開始追蹤你`,\n            url: `/user/self/follower`,\n            type: 'follow',\n            recipientId: data.followship.followingId\n          })\n        }\n\n        this.topUsers = this.topUsers.map(user => {\n          if (user.id !== userId) {\n            return user\n          } else {\n            return {\n              ...user,\n              followerCount: user.followerCount + 1,\n              isFollowed: true\n            }\n          }\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法加入追蹤，請稍後再試'\n        })\n      }\n    },\n    async deleteFollowing (userId) {\n      try {\n        const { data } = await followshipsAPI.deleteFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        this.$bus.$emit('followAction', { type: 'unfollow', userId: userId})\n        this.topUsers = this.topUsers.map(user => {\n          if (user.id !== userId) {\n            return user\n          } else {\n            return {\n              ...user,\n              followerCount: user.followerCount - 1,\n              isFollowed: false\n            }\n          }\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消追蹤，請稍後再試'\n        })\n      }\n    },\n    followAction (action) {\n\n      this.topUsers = this.topUsers.map(user => {\n        if (user.id !== action.userId) {\n          return user\n        } else {\n          return {\n            ...user,\n            isFollowed: action.type === 'follow' ? true : false \n          }\n        }\n      })\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n$orange: #FF6600;\n$deeporange: #F34A16;\n$lightgray: #F5F8FA;\n$bitdark: #657786;\n$divider: #E6ECF0;\n.recommend-users {\n  width: 100%;\n  max-width: 350px;\n  height: 517px;\n  margin: 15px 82px 0 30px;\n  border-radius: 14px;\n  background: $lightgray;\n  .title {\n    margin-top: 10px;\n    text-align: left;\n    padding: 0px 0 0 15px; \n    font-size: 18px;\n    line-height: 26px;\n    height: 36px;\n    font-weight: 700;\n  }\n  .list-group {\n    border: none;\n    .list-group-item {\n      position: relative;\n      border: none;\n      border-radius: 0;\n      border-top: 1px solid $divider;\n      border-bottom: 1px solid $divider;\n      height: 71px;\n      padding: 10px 15px 0 15px;\n      background: none;\n      display: flex;\n      flex-direction: row;\n      align-items: flex-start;\n      cursor: pointer;\n      transition: ease-in 0.2s;\n      &:hover {\n        backdrop-filter: brightness(.95);\n      }\n      .avatar {\n        margin-right: 10px;\n        height: 50px;\n        width: 50px;\n        border-radius: 50%;\n        cursor: pointer;\n        &:hover {\n          filter: brightness(.9);\n        }\n      }\n      .info {\n        margin-top: 8px;\n        display: flex;\n        flex-direction: column;\n        .name {\n          text-align: left;\n          margin-bottom: 3px;\n          font-size: 15px;\n          line-height: 15px;\n          font-weight: 700;\n          cursor: pointer;\n          &:hover {\n            text-decoration: underline;\n          }\n        }\n        .account {\n          text-align: left;\n          font-size: 15px;\n          line-height: 15px;\n          font-weight: 700;\n          color: $bitdark;\n          cursor: pointer;\n          &:hover {\n            text-decoration: underline;\n          }\n        }\n      }\n      .btn-follow {\n        width: 100%;\n        max-width: 62px;\n        position: absolute;\n        top: 20px;\n        right: 15px;\n        height: 30px;\n        line-height: 15px;\n        margin-left: auto;\n        border: 1px solid $orange ;\n        background: none;\n        font-size: 15px;\n        font-weight: 700;\n        color: $orange;\n        border-radius: 100px;\n        transition: ease-in 0.2s;\n        &:hover {\n          box-shadow: 0 0 3px 1px $bitdark;\n          background-color: $orange;\n          color: #ffffff;\n        }\n      }\n      .btn-follow.unfollow {\n        max-width: 92px;\n        background: $orange;\n        color: #ffffff;\n        &:hover {\n          background-color: $deeporange;\n        }\n      }\n    }\n  }\n  .footer {\n    margin-bottom: auto;\n    height: 22px;\n    line-height: 22px;\n    max-width: 60px;\n    margin: 12px 0 12px 15px;\n    text-align: left;\n    font-weight: normal;\n    font-size: 15px;\n    color: $orange;\n    cursor: pointer;\n    transition: ease-in 0.2s;\n    &:hover {\n      text-decoration: underline;\n      color: $deeporange;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecommendUsers.vue?vue&type=template&id=516f4cd0&\"\nimport script from \"./RecommendUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./RecommendUsers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecommendUsers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follower-main\"},[_c('div',{staticClass:\"upper\"},[_c('img',{staticClass:\"arrow\",attrs:{\"src\":require(\"@/asset/Vector@2x.png\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(_vm._s(_vm.nowUser.name))]),(_vm.nowUser.tweets)?_c('span',[_vm._v(_vm._s(_vm.nowUser.tweets.length)+\" 推文\")]):_vm._e()])]),(this.$route.path.indexOf('/self') > 0)?_c('div',{staticClass:\"tab self\"},[_c('div',{staticClass:\"item\",class:{ active: this.$route.path === '/user/self/follower' },on:{\"click\":function($event){return _vm.$router.push('/user/self/follower')}}},[_c('div',{staticClass:\"text\"},[_vm._v(\"追隨者\")])]),_c('div',{staticClass:\"item\",class:{ active: _vm.$route.path === '/user/self/following' },on:{\"click\":function($event){return _vm.$router.push('/user/self/following')}}},[_c('div',{staticClass:\"text\"},[_vm._v(\"正在跟隨\")])])]):_vm._e(),(!(this.$route.path.indexOf('/self') > 0))?_c('div',{staticClass:\"tab ohter\"},[_c('div',{staticClass:\"item\",class:{ active: this.$route.path.indexOf('follower') > 0 },on:{\"click\":function($event){return _vm.$router.push((\"/user/other/\" + (_vm.nowUser.user.id) + \"/follower\"))}}},[_c('div',{staticClass:\"text\"},[_vm._v(\"追隨者\")])]),_c('div',{staticClass:\"item\",class:{ active: this.$route.path.indexOf('following') > 0 },on:{\"click\":function($event){return _vm.$router.push((\"/user/other/\" + (_vm.nowUser.user.id) + \"/following\"))}}},[_c('div',{staticClass:\"text\"},[_vm._v(\"正在跟隨\")])])]):_vm._e(),_c('div',{staticClass:\"followListContent\"},[_c('div',_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.id,staticClass:\"singleContent\"},[(follower)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.avatar},on:{\"click\":function($event){return _vm.$router.push((\"/user/other/\" + (follower.id)))}}}):_vm._e(),_c('div',{staticClass:\"text\"},[(follower)?_c('h5',{staticClass:\"title\",on:{\"click\":function($event){return _vm.$router.push((\"/user/other/\" + (follower.id)))}}},[_vm._v(_vm._s(follower.name))]):_vm._e(),(follower)?_c('h5',{staticClass:\"account\",on:{\"click\":function($event){return _vm.$router.push((\"/user/other/\" + (follower.id)))}}},[_vm._v(_vm._s(follower.account))]):_vm._e(),(follower)?_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(follower.introduction))]):_vm._e()]),(follower && follower.id !== _vm.currentUser.id)?_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(follower.isFollowed),expression:\"follower.isFollowed\"}],staticClass:\"btn-follow unfollow\",on:{\"click\":function($event){return _vm.deleteFollowing(follower.id)}}},[_vm._v(\" 正在跟隨 \")]):_vm._e(),(follower && follower.id !== _vm.currentUser.id)?_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!follower.isFollowed),expression:\"!follower.isFollowed\"}],staticClass:\"btn-follow\",on:{\"click\":function($event){return _vm.addFollowing(follower.id)}}},[_vm._v(\" 跟隨 \")]):_vm._e()])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n  <div class=\"follower-main\">\n    <div class=\"upper\">\n      <img class=\"arrow\" @click=\"$router.go(-1)\" src=\"@/asset/Vector@2x.png\" alt=\"\">\n      <div class=\"title\">\n        <h3>{{ nowUser.name }}</h3>\n        <span v-if=\"nowUser.tweets\">{{ nowUser.tweets.length }} 推文</span>\n      </div>\n    </div>\n    <div class=\"tab self\" v-if=\"this.$route.path.indexOf('/self') > 0\">\n      <div class=\"item\" :class=\"{ active: this.$route.path === '/user/self/follower' }\" @click=\"$router.push('/user/self/follower')\"> \n        <div class=\"text\">追隨者</div>\n      </div>\n      \n      <div class=\"item\" :class=\"{ active: $route.path === '/user/self/following' }\" @click=\"$router.push('/user/self/following')\">\n        <div class=\"text\">正在跟隨</div>\n      </div>\n    </div>\n    <div class=\"tab ohter\" v-if=\"!(this.$route.path.indexOf('/self') > 0)\">\n      <div class=\"item\" :class=\"{ active: this.$route.path.indexOf('follower') > 0 }\" @click=\"$router.push(`/user/other/${nowUser.user.id}/follower`)\"> \n        <div class=\"text\">追隨者</div>\n      </div>\n      \n      <div class=\"item\" :class=\"{ active: this.$route.path.indexOf('following') > 0 }\" @click=\"$router.push(`/user/other/${nowUser.user.id}/following`)\">\n        <div class=\"text\">正在跟隨</div>\n      </div>\n    </div>\n    <div class=\"followListContent\">\n      <div>\n        <div v-for=\"follower in followers\" :key=\"follower.id\" class=\"singleContent\">\n          <img  v-if=\"follower\" :src=\"follower.avatar\" class=\"avatar\" @click=\"$router.push(`/user/other/${follower.id}`)\">\n          <div class=\"text\">\n            <h5 v-if=\"follower\" class=\"title\" @click=\"$router.push(`/user/other/${follower.id}`)\">{{follower.name}}</h5>\n            <h5  v-if=\"follower\" class=\"account\" @click=\"$router.push(`/user/other/${follower.id}`)\">{{follower.account}}</h5>\n            <p  v-if=\"follower\" class=\"content\">{{follower.introduction}}</p>\n          </div>\n          <button \n            v-if=\"follower && follower.id !== currentUser.id\"\n            v-show=\"follower.isFollowed\"\n            class=\"btn-follow unfollow\" @click=\"deleteFollowing(follower.id)\">\n            正在跟隨\n          </button>\n          <button\n            v-if=\"follower && follower.id !== currentUser.id\"\n            v-show=\"!follower.isFollowed\"\n            class=\"btn-follow\"\n            @click=\"addFollowing(follower.id)\">\n            跟隨\n          </button>\n        </div>\n      </div>\n    </div>  \n  </div>\n</template>\n\n<script>\nimport { Toast } from '@/utils/helpers'\nimport followshipsAPI from '@/apis/followships'\nimport { mapState } from 'vuex'\nexport default {\n  data () {\n    return {\n      followers: []\n    }\n  },\n  props: {\n    initialFollowers: {\n      type: Array\n    },\n    nowUser: {\n      type: Object\n    }\n  },\n  watch: {\n    initialFollowers: function () {\n      this.followers = this.initialFollowers\n    },\n    nowUsers: function () {\n      \n    },\n    deep: true\n  },\n  created () {\n    this.followers = this.initialFollowers\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  methods: {\n    async addFollowing (userId) {\n      try {\n        const { data } = await followshipsAPI.addFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        if (data.followship.followerId > 0 && data.followship.followingId !== this.currentUser.id) {\n          this.$socket.emit('personal notification', {\n            senderId: this.currentUser.id,\n            titleData: `${this.currentUser.name} 開始追蹤你`,\n            url: `/user/self/follower`,\n            type: 'follow',\n            recipientId: data.followship.followingId\n          })\n        }\n\n        this.$bus.$emit('followAction', { type: 'follow', userId: userId })\n        this.followers.forEach(follower => {\n          if (follower.id === userId) {\n            follower.isFollowed = true\n          }\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法加入追蹤，請稍後再試'\n        })\n      }\n    },\n    async deleteFollowing (userId) {\n      try {\n        const { data } = await followshipsAPI.deleteFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        this.$bus.$emit('followAction', { type: 'unfollow', userId: userId})\n        this.followers.forEach(follower => {\n          if (follower.id === userId) {\n            follower.isFollowed = false\n          }\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消追蹤，請稍後再試'\n        })\n      }\n    },\n  }  \n}\n</script>\n\n<style lang=\"scss\">\n$orange: #FF6600;\n$deeporange: #F34A16;\n$lightgray: #F5F8FA;\n$bitdark: #657786;\n$divider: #E6ECF0;\n  .follower-main {\n    border-left: 1px solid $divider;\n    width: 600px;\n    display: flex;\n    flex-direction: column;\n    .upper {\n      display: flex;\n      flex-direction: row;\n      .arrow {\n        cursor: pointer;\n        width: 17px;\n        height: 14px;\n        margin: 20px 43px 0 20px;\n      }\n      .title {\n        h3 {\n          font-family: Noto Sans TC;\n          font-style: normal;\n          font-weight: 900;\n          font-size: 19px;\n          line-height: 28px;\n          margin-bottom: 0;\n        }\n        span {\n          font-family: Noto Sans TC;\n          font-style: normal;\n          font-weight: 500;\n          font-size: 13px;\n          line-height: 19px;\n        }\n      }\n    }\n    .tab {\n      border-bottom: 1px solid $divider;\n      height: 54px;\n      margin-top: 20px;\n      display: flex;\n      flex-direction: row;\n      .item {\n        width: 100%;\n        max-width: 130px;\n        height: 54px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: ease-in 0.2s;\n        &:hover {\n          backdrop-filter: brightness(.95);\n        }\n        .text {\n          z-index: -1;\n          font-weight: bold;\n          font-size: 15px;\n          line-height: 22px;\n          color: $bitdark;\n        }\n      }\n      .item.active {\n        border-bottom: 2px solid $orange;\n        .text {\n          color: $orange;\n        }\n      }\n    }\n    .followListContent {\n      height: 104px;\n      width: 600px;\n      .singleContent {\n        height: 104px;\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        position: relative;\n        // outline: blue solid;\n        img {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          margin: 13px 10px 41px 15px;\n          object-fit: cover;\n          cursor: pointer;\n          &:hover {\n            filter: brightness(.9);\n          }\n        }\n        .text {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          margin: 10px 0 10px 0;\n          .title {\n            font-family: Noto Sans TC;\n            font-style: normal;\n            font-weight: bold;\n            font-size: 15px;\n            line-height: 15px;\n            text-align: start;\n            cursor: pointer;\n            &:hover {\n              text-decoration: underline;\n            }\n          }\n          .account {\n            font-family: Noto Sans TC;\n            font-style: normal;\n            font-weight: 500;\n            font-size: 15px;\n            line-height: 15px;\n            text-align: start;\n            cursor: pointer;\n            color: $bitdark;\n            &:hover {\n              text-decoration: underline;\n            }\n          }\n          .content {\n            width: 510px;\n            height: 44px;\n            font-family: Noto Sans TC;\n            font-style: normal;\n            font-weight: 500;\n            font-size: 15px;\n            line-height: 22px;\n            text-align: start;\n            margin: 0 15px 0 0;\n          }\n          \n        }\n        .btn-follow {\n          cursor: pointer;\n          width: 100%;\n          max-width: 62px;\n          position: absolute;\n          top: 20px;\n          right: 15px;\n          height: 30px;\n          line-height: 15px;\n          margin-left: auto;\n          border: 1px solid $orange ;\n          background: none;\n          font-size: 15px;\n          font-weight: 700;\n          color: $orange;\n          border-radius: 100px;\n          transition: ease-in 0.2s;\n          &:hover {\n            box-shadow: 0 0 3px 1px $bitdark;\n            background-color: $orange;\n            color: #ffffff;\n          }\n          &:focus {\n            outline: none;\n          }\n        }\n        .btn-follow.unfollow {\n          max-width: 92px;\n          background: $orange;\n          color: #ffffff;\n          &:hover {\n            background-color: $deeporange;\n          }\n        }\n      }\n    }\n  }\n\n  \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelfUserFollowers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelfUserFollowers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelfUserFollowers.vue?vue&type=template&id=9de68862&\"\nimport script from \"./SelfUserFollowers.vue?vue&type=script&lang=js&\"\nexport * from \"./SelfUserFollowers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelfUserFollowers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}